(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{m:()=>Y});const t=(e,t,r,a,n)=>({title:e,description:t,dueDate:a,priority:r,checklist:n,taskId:0}),r=e=>({projectTaskArray:[],title:e,projectId:Y.length}),a=document.querySelector("#close-add-task-modal"),n=document.querySelector(".confirm-add-form"),i=document.querySelector(".modal"),s=document.querySelector(".modal-create-new-task"),c=document.querySelector("#form-input-task-title"),d=document.querySelector(".form-title-error"),l=document.querySelector(".form-add-description"),o=document.querySelector("#form-add-dueDate"),u=document.querySelector(".form-add-priority"),p=document.querySelector("#close-edit-task-modal"),m=document.querySelector(".confirm-edit-form"),v=document.querySelector(".modal-edit-task"),E=document.querySelector("#form-edit-input-task-title"),h=document.querySelector(".form-edit-title-error"),k=document.querySelector(".form-edit-description"),y=document.querySelector("#form-edit-dueDate"),g=document.querySelector(".form-edit-priority"),L=document.querySelector(".modal-show-task"),f=document.querySelector("#close-task-modal-show"),b=document.querySelector(".modal-content-title"),T=document.querySelector(".modal-content-description"),A=document.querySelector(".modal-content-due-date"),j=document.querySelector(".modal-content-priority"),C=document.querySelector(".modal-content-task-finished");function S(){c.value="",l.value="",o.value="",d.classList.add("hide"),i.classList.add("hide"),s.classList.add("hide"),c.classList.remove("form-title-error-input")}function q(){E.value="",k.value="",y.value="",h.classList.add("hide"),i.classList.add("hide"),v.classList.add("hide"),E.classList.remove("form-title-error-input")}const x=document.querySelector(".task-cards");function w(e,t,r,a,n,s){const d=document.createElement("div");d.classList.add("task-card"),d.setAttribute("dataset",`${s}`);const l=document.createElement("div");l.classList.add("checklist-priority-div");const o=document.createElement("input");o.classList.add("task-checklist"),o.setAttribute("type","checkbox"),o.setAttribute("id",`checkbox-${s}`),!0===n&&o.setAttribute("checked","true");const u=document.createElement("div");u.classList.add("task-title"),u.innerText=`${e}`;const S=document.createElement("div");S.classList.add("task-description"),S.innerText=`${t}`;const w=document.createElement("div");"low"===r?w.classList.add("task-priority-low"):"mid"===r?w.classList.add("task-priority-mid"):w.classList.add("task-priority-high");const D=document.createElement("div");D.classList.add("task-due-date"),D.innerText=`${a}`;const P=document.createElement("div");P.classList.add("edit-delete-div");const I=document.createElement("button");I.classList.add("task-edit");const O=document.createElement("img");O.setAttribute("draggable","false"),O.setAttribute("src","../src/svg/pencil-white.svg");const W=document.createElement("button");W.classList.add("task-delete");const N=document.createElement("img");N.setAttribute("draggable","false"),N.setAttribute("src","../src/svg/trash-can-outline-white.svg"),x.appendChild(d),d.appendChild(l),l.appendChild(o),l.appendChild(w),d.appendChild(u),d.appendChild(S),d.appendChild(D),d.appendChild(P),P.appendChild(I),I.appendChild(O),P.appendChild(W),W.appendChild(N),o.addEventListener("click",(e=>{e.stopPropagation(),!1===Y[e.target.parentElement.parentElement.parentElement.attributes[1].value].projectTaskArray[e.target.parentElement.parentElement.attributes[1].value].checklist?Y[e.target.parentElement.parentElement.parentElement.attributes[1].value].projectTaskArray[e.target.parentElement.parentElement.attributes[1].value].checklist=!0:Y[e.target.parentElement.parentElement.parentElement.attributes[1].value].projectTaskArray[e.target.parentElement.parentElement.attributes[1].value].checklist=!1})),W.addEventListener("click",(e=>{e.stopPropagation(),Y[e.target.parentElement.parentElement.parentElement.parentElement.attributes[1].value].projectTaskArray.splice(e.currentTarget.parentElement.parentElement.attributes[1].value,1),$(e.target.parentElement.parentElement.parentElement.parentElement.attributes[1].value)})),I.addEventListener("click",(e=>{var t,r;e.stopPropagation(),t=e.target.parentElement.parentElement.parentElement.parentElement.attributes[1].value,r=e.target.parentElement.parentElement.parentElement.attributes[1].value,i.classList.remove("hide"),v.classList.remove("hide"),E.value=Y[t].projectTaskArray[r].title,k.value=Y[t].projectTaskArray[r].description,y.value=Y[t].projectTaskArray[r].dueDate,g.value=Y[t].projectTaskArray[r].priority,v.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()})),m.addEventListener("click",(e=>{if(e.preventDefault(),""===E.value||null===c.value)return h.classList.remove("hide"),void E.classList.add("form-title-error-input");Y[t].projectTaskArray[r].title=E.value,Y[t].projectTaskArray[r].description=k.value,Y[t].projectTaskArray[r].dueDate=y.value,Y[t].projectTaskArray[r].priority=g.value,$(t),q()})),p.addEventListener("click",(()=>{q()})),i.addEventListener("click",(e=>{q()}))})),d.addEventListener("click",(e=>{var t,r;t=x.attributes[1].value,r=e.currentTarget.attributes[1].value,i.classList.remove("hide"),L.classList.remove("hide"),b.innerText=`${Y[t].projectTaskArray[r].title}`,T.innerText=`${Y[t].projectTaskArray[r].description}`,""!==Y[t].projectTaskArray[r].dueDate?A.innerText=`${Y[t].projectTaskArray[r].dueDate}`:A.innerText="No due date",j.innerText=`${Y[t].projectTaskArray[r].priority}`,Y[t].projectTaskArray[r].checklist?C.innerText="Task finished: YES":C.innerText="Task finished: NO",f.addEventListener("click",(()=>{b.innerText="",T.innerText="",A.innerText="",j.innerText="",i.classList.add("hide"),L.classList.add("hide")})),L.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}))}))}function D(){const e=document.createElement("button");e.classList.add("project-add-btn");const r=document.createElement("img");r.setAttribute("src","../src/svg/plus-box-outline-white.svg"),x.appendChild(e),e.appendChild(r),e.addEventListener("click",(()=>{i.classList.remove("hide"),s.classList.remove("hide"),s.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()})),n.addEventListener("click",(e=>{if(e.preventDefault(),""===c.value||null===c.value)return d.classList.remove("hide"),void c.classList.add("form-title-error-input");Y[e.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.children[1].children[1].children[0].attributes[1].value].projectTaskArray.push(t(c.value,l.value,u.value,o.value,!1)),$(e.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.children[1].children[1].children[0].attributes[1].value),S()})),a.addEventListener("click",(()=>{S()})),i.addEventListener("click",(e=>{S()})),o.addEventListener("click",(e=>{e.stopPropagation()}))}))}function $(e){if(P(),0===Y[e].projectTaskArray.length)return D(),void x.setAttribute("dataset",`${e}`);x.setAttribute("dataset",`${e}`);for(let t=0;t<Y[e].projectTaskArray.length;t++)if(Y[e].projectTaskArray[t].taskId=t,w(Y[e].projectTaskArray[t].title,Y[e].projectTaskArray[t].description,Y[e].projectTaskArray[t].priority,Y[e].projectTaskArray[t].dueDate,Y[e].projectTaskArray[t].checklist,Y[e].projectTaskArray[t].taskId),t===Y[e].projectTaskArray.length-1)return void D();D()}function P(){for(;x.firstChild;)x.removeChild(x.firstChild)}const I=document.querySelector(".project-cards");function O(e,t){const r=document.createElement("div");r.classList.add("project-card"),r.setAttribute("dataset",`${t}`);const a=document.createElement("div");a.classList.add("project-title"),a.innerText=`${e}`;const n=document.createElement("div");n.classList.add("edit-delete-div");const i=document.createElement("button");i.classList.add("project-edit");const s=document.createElement("img");s.setAttribute("draggable","false"),s.setAttribute("src","../src/svg/pencil-white.svg");const c=document.createElement("button");c.classList.add("project-delete");const d=document.createElement("img");if(d.setAttribute("draggable","false"),d.setAttribute("src","../src/svg/trash-can-outline-white.svg"),I.appendChild(r),r.appendChild(a),r.appendChild(n),n.appendChild(i),i.appendChild(s),n.appendChild(c),c.appendChild(d),""===e){const r=document.createElement("input");r.classList.add("edit-title-input"),r.setAttribute("type","text"),a.replaceWith(r),r.focus(),r.addEventListener("keydown",(n=>{if("Enter"===n.key||"Escape"===n.key){if(""===r.value)return;a.innerText=r.value,e=r.value,Y[t].title=r.value,r.replaceWith(a)}}))}r.addEventListener("click",(e=>{$(e.currentTarget.attributes[1].value)})),i.addEventListener("click",(()=>{const r=document.createElement("input");r.classList.add("edit-title-input"),r.setAttribute("type","text"),r.setAttribute("value",`${e}`),a.replaceWith(r),r.focus();const n=r.value.length;r.setSelectionRange(n,n),r.addEventListener("keydown",(n=>{if("Enter"===n.key||"Escape"===n.key){if(""===r.value)return;a.innerText=r.value,e=r.value,Y[t].title=r.value,r.replaceWith(a)}}))})),c.addEventListener("click",(e=>{e.stopPropagation(),Y.splice(e.target.parentElement.parentElement.parentElement.attributes[1].value,1),N(),P()}))}function W(){const e=document.createElement("button");e.classList.add("project-add-btn");const t=document.createElement("img");t.setAttribute("src","../src/svg/plus-box-outline-white.svg"),I.appendChild(e),e.appendChild(t),e.addEventListener("click",(()=>{Y.push(r("")),N()}))}function N(){!function(){for(;R.firstChild;)R.removeChild(R.firstChild)}();for(let e=0;e<Y.length;e++)if(Y[e].projectId=e,O(Y[e].title,Y[e].projectId),e===Y.length-1)return void W();W()}const R=document.querySelector(".project-cards"),Y=[];window.addEventListener("load",(()=>{0===Y.length&&(Y.push(r("Default")),Y[0].projectTaskArray.push(t("Title","Description","low","2023-04-21",!1)),$(0)),N()}))})();